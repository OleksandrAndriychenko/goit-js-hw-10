{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nlet userSelectedDate\nconst now = new Date();\nlet chosenDate\nconst startBtn = document.querySelector(\"[data-start]\");\nconst newDay = document.querySelector(\"[data-days]\");\nconst newHour = document.querySelector(\"[data-hours]\");\nconst newMinute = document.querySelector(\"[data-minutes]\");\nconst newSecond = document.querySelector(\"[data-seconds]\");\nstartBtn.disabled = true;\nconst newInput = document.querySelector(\"#datetime-picker\");\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        startBtn.disabled = true;\n        chosenDate = new Date(selectedDates[0]);\n        if (chosenDate < now) {\n            startBtn.disabled = true;\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n                backgroundColor: \"#ef4040\",\n                titleColor: \"#fff\",\n                messageColor: \"#fff\",\n            });\n        } else {\n            newInput.disabled = true;\n            startBtn.disabled = false;\n            userSelectedDate = convertMs(chosenDate.getTime() - now.getTime());\n            startBtn.addEventListener(\"click\", () => {\n                startBtn.disabled = true;\n                let intervalId = setInterval(() => {\n                    const now = new Date();\n                    const diff = chosenDate.getTime() - now.getTime();\n            \n                    if (diff <= 0) {\n                    clearInterval(intervalId);\n                    newDay.textContent = \"00\";\n                    newHour.textContent = \"00\";\n                    newMinute.textContent = \"00\";\n                    newSecond.textContent = \"00\";\n                    return;\n                    }\n                    const newDiff = convertMs(diff)\n                    newDay.textContent = String(newDiff.days).padStart(2, \"0\");\n                    newHour.textContent = String(newDiff.hours).padStart(2, \"0\");\n                    newMinute.textContent = String(newDiff.minutes).padStart(2, \"0\");\n                    newSecond.textContent = String(newDiff.seconds).padStart(2, \"0\");\n                }, 1000);\n            });\n        }\n    },\n};\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n    return { days, hours, minutes, seconds };\n}\nconst fp = flatpickr(\"#datetime-picker\", options);\n"],"names":["now","chosenDate","startBtn","newDay","newHour","newMinute","newSecond","newInput","options","selectedDates","iziToast","convertMs","intervalId","diff","newDiff","ms","days","hours","minutes","seconds","flatpickr"],"mappings":"2GAKA,MAAMA,EAAM,IAAI,KAChB,IAAIC,EACJ,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EACzDJ,EAAS,SAAW,GACpB,MAAMK,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBP,EAAS,SAAW,GACpBD,EAAa,IAAI,KAAKQ,EAAc,CAAC,CAAC,EAClCR,EAAaD,GACbE,EAAS,SAAW,GACpBQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,MAC9B,CAAa,IAEDH,EAAS,SAAW,GACpBL,EAAS,SAAW,GACDS,EAAUV,EAAW,QAAO,EAAKD,EAAI,QAAS,CAAA,EACjEE,EAAS,iBAAiB,QAAS,IAAM,CACrCA,EAAS,SAAW,GACpB,IAAIU,EAAa,YAAY,IAAM,CAC/B,MAAMZ,EAAM,IAAI,KACVa,EAAOZ,EAAW,QAAS,EAAGD,EAAI,QAAO,EAE/C,GAAIa,GAAQ,EAAG,CACf,cAAcD,CAAU,EACxBT,EAAO,YAAc,KACrBC,EAAQ,YAAc,KACtBC,EAAU,YAAc,KACxBC,EAAU,YAAc,KACxB,MACC,CACD,MAAMQ,EAAUH,EAAUE,CAAI,EAC9BV,EAAO,YAAc,OAAOW,EAAQ,IAAI,EAAE,SAAS,EAAG,GAAG,EACzDV,EAAQ,YAAc,OAAOU,EAAQ,KAAK,EAAE,SAAS,EAAG,GAAG,EAC3DT,EAAU,YAAc,OAAOS,EAAQ,OAAO,EAAE,SAAS,EAAG,GAAG,EAC/DR,EAAU,YAAc,OAAOQ,EAAQ,OAAO,EAAE,SAAS,EAAG,GAAG,CAClE,EAAE,GAAI,CACvB,CAAa,EAER,CACL,EACA,SAASH,EAAUI,EAAI,CAOnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CACWC,EAAU,mBAAoBZ,CAAO"}