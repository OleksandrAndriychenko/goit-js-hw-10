{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nlet userSelectedDate\nlet chosenDate\nconst startBtn = document.querySelector(\"[data-start]\");\nconst newDay = document.querySelector(\"[data-days]\");\nconst newHour = document.querySelector(\"[data-hours]\");\nconst newMinute = document.querySelector(\"[data-minutes]\");\nconst newSecond = document.querySelector(\"[data-seconds]\");\nstartBtn.disabled = true;\nconst newInput = document.querySelector(\"#datetime-picker\");\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        startBtn.disabled = true;\n        const now = new Date();\n        chosenDate = new Date(selectedDates[0]);\n        if (chosenDate < now) {\n            startBtn.disabled = true;\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n                backgroundColor: \"#ef4040\",\n                titleColor: \"#fff\",\n                messageColor: \"#fff\",\n            });\n        } else {\n            startBtn.disabled = false;\n        }\n    },\n};\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n    return { days, hours, minutes, seconds };\n}\nconst fp = flatpickr(\"#datetime-picker\", options);\nstartBtn.addEventListener(\"click\", () => {\n    newInput.disabled = true;\n    startBtn.disabled = true;\n    let intervalId = setInterval(() => {\n        const now = new Date();\n        const diff = chosenDate.getTime() - now.getTime();\n        if (diff <= 0) {\n        clearInterval(intervalId);\n        newDay.textContent = \"00\";\n        newHour.textContent = \"00\";\n        newMinute.textContent = \"00\";\n        newSecond.textContent = \"00\";\n        newInput.disabled = false;\n        return;\n        }\n        const newDiff = convertMs(diff)\n        newDay.textContent = String(newDiff.days).padStart(2, \"0\");\n        newHour.textContent = String(newDiff.hours).padStart(2, \"0\");\n        newMinute.textContent = String(newDiff.minutes).padStart(2, \"0\");\n        newSecond.textContent = String(newDiff.seconds).padStart(2, \"0\");\n    }, 1000);\n});\n"],"names":["chosenDate","startBtn","newDay","newHour","newMinute","newSecond","newInput","options","selectedDates","now","iziToast","convertMs","ms","days","hours","minutes","seconds","flatpickr","intervalId","diff","newDiff"],"mappings":"2GAKA,IAAIA,EACJ,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EACzDJ,EAAS,SAAW,GACpB,MAAMK,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBP,EAAS,SAAW,GACpB,MAAMQ,EAAM,IAAI,KAChBT,EAAa,IAAI,KAAKQ,EAAc,CAAC,CAAC,EAClCR,EAAaS,GACbR,EAAS,SAAW,GACpBS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,MAC9B,CAAa,GAEDT,EAAS,SAAW,EAE3B,CACL,EACA,SAASU,EAAUC,EAAI,CAOnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CACWC,EAAU,mBAAoBV,CAAO,EAChDN,EAAS,iBAAiB,QAAS,IAAM,CACrCK,EAAS,SAAW,GACpBL,EAAS,SAAW,GACpB,IAAIiB,EAAa,YAAY,IAAM,CAC/B,MAAMT,EAAM,IAAI,KACVU,EAAOnB,EAAW,QAAS,EAAGS,EAAI,QAAO,EAC/C,GAAIU,GAAQ,EAAG,CACf,cAAcD,CAAU,EACxBhB,EAAO,YAAc,KACrBC,EAAQ,YAAc,KACtBC,EAAU,YAAc,KACxBC,EAAU,YAAc,KACxBC,EAAS,SAAW,GACpB,MACC,CACD,MAAMc,EAAUT,EAAUQ,CAAI,EAC9BjB,EAAO,YAAc,OAAOkB,EAAQ,IAAI,EAAE,SAAS,EAAG,GAAG,EACzDjB,EAAQ,YAAc,OAAOiB,EAAQ,KAAK,EAAE,SAAS,EAAG,GAAG,EAC3DhB,EAAU,YAAc,OAAOgB,EAAQ,OAAO,EAAE,SAAS,EAAG,GAAG,EAC/Df,EAAU,YAAc,OAAOe,EAAQ,OAAO,EAAE,SAAS,EAAG,GAAG,CAClE,EAAE,GAAI,CACX,CAAC"}